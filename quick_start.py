#!/usr/bin/env python3
"""
Quick Start - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Reddit SaaS Validator
"""

import os
from colorama import init, Fore, Style

init(autoreset=True)

def print_header():
    """–ü–µ—á–∞—Ç–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫"""
    print(f"\n{Fore.CYAN}{'='*60}")
    print(f"{Fore.YELLOW}üöÄ Reddit SaaS Validator - Quick Start{Style.RESET_ALL}")
    print(f"{Fore.CYAN}{'='*60}\n{Style.RESET_ALL}")

def print_section(title):
    """–ü–µ—á–∞—Ç–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å–µ–∫—Ü–∏–∏"""
    print(f"\n{Fore.CYAN}‚ñ∂ {title}{Style.RESET_ALL}")
    print(f"{Fore.CYAN}{'-'*60}{Style.RESET_ALL}")

def get_input(prompt, required=True, default=None):
    """–ü–æ–ª—É—á–∞–µ—Ç input –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
    if default:
        prompt_text = f"{Fore.WHITE}{prompt} {Fore.YELLOW}[{default}]{Fore.WHITE}: {Style.RESET_ALL}"
    else:
        prompt_text = f"{Fore.WHITE}{prompt}: {Style.RESET_ALL}"
    
    while True:
        value = input(prompt_text).strip()
        
        if not value and default:
            return default
        
        if not value and required:
            print(f"{Fore.RED}‚ùå –≠—Ç–æ –ø–æ–ª–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!{Style.RESET_ALL}")
            continue
        
        if not value and not required:
            return ''
        
        return value

def setup_reddit():
    """–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Reddit credentials"""
    print_section("1Ô∏è‚É£  Reddit API")
    
    print(f"{Fore.YELLOW}‚ÑπÔ∏è  –ü–æ–ª—É—á–∏—Ç–µ credentials:{Style.RESET_ALL}")
    print(f"   1. https://www.reddit.com/prefs/apps")
    print(f"   2. Create app ‚Üí script")
    print(f"   3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ client_id –∏ client_secret\n")
    
    client_id = get_input("Reddit Client ID")
    client_secret = get_input("Reddit Client Secret")
    user_agent = get_input("Reddit User Agent", default="SaaS_Validator/1.0")
    
    return {
        'REDDIT_CLIENT_ID': client_id,
        'REDDIT_CLIENT_SECRET': client_secret,
        'REDDIT_USER_AGENT': user_agent
    }

def setup_twitter():
    """–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Twitter credentials"""
    print_section("2Ô∏è‚É£  Twitter/X API (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)")
    
    print(f"{Fore.YELLOW}‚ÑπÔ∏è  Free tier: $0/–º–µ—Å—è—Ü, 500k —Ç–≤–∏—Ç–æ–≤{Style.RESET_ALL}")
    print(f"   1. https://developer.twitter.com/en/portal/dashboard")
    print(f"   2. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ")
    print(f"   3. Keys and tokens ‚Üí Generate Bearer Token\n")
    
    skip = input(f"{Fore.WHITE}–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å Twitter? (y/N): {Style.RESET_ALL}").strip().lower()
    
    if skip == 'y':
        return {}
    
    bearer_token = get_input("Twitter Bearer Token")
    
    return {'TWITTER_BEARER_TOKEN': bearer_token}

def setup_linkedin():
    """–ù–∞—Å—Ç—Ä–æ–π–∫–∞ LinkedIn credentials"""
    print_section("3Ô∏è‚É£  LinkedIn (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)")
    
    print(f"{Fore.YELLOW}‚ÑπÔ∏è  –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∞—à –æ–±—ã—á–Ω—ã–π LinkedIn –∞–∫–∫–∞—É–Ω—Ç{Style.RESET_ALL}")
    print(f"{Fore.RED}‚ö†Ô∏è  LinkedIn –º–æ–∂–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∑–∞ –∞–∫—Ç–∏–≤–Ω—ã–π scraping!{Style.RESET_ALL}")
    print(f"   –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:")
    print(f"   - –î–µ–ª–∞–π—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ 2-3 —Å–µ–∫—É–Ω–¥—ã")
    print(f"   - –ù–µ –±–æ–ª—å—à–µ 50-100 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –¥–µ–Ω—å")
    print(f"   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ VPN\n")
    
    skip = input(f"{Fore.WHITE}–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å LinkedIn? (y/N): {Style.RESET_ALL}").strip().lower()
    
    if skip == 'y':
        return {}
    
    email = get_input("LinkedIn Email")
    password = get_input("LinkedIn Password")
    
    return {
        'LINKEDIN_EMAIL': email,
        'LINKEDIN_PASSWORD': password
    }

def create_env_file(credentials):
    """–°–æ–∑–¥–∞—ë—Ç —Ñ–∞–π–ª .env"""
    with open('.env', 'w') as f:
        f.write("# Reddit SaaS Validator - Credentials\n")
        f.write("# Generated by quick_start.py\n\n")
        
        # Reddit
        f.write("# Reddit API\n")
        for key, value in credentials['reddit'].items():
            f.write(f"{key}={value}\n")
        
        # Twitter
        if credentials.get('twitter'):
            f.write("\n# Twitter/X API\n")
            for key, value in credentials['twitter'].items():
                f.write(f"{key}={value}\n")
        
        # LinkedIn
        if credentials.get('linkedin'):
            f.write("\n# LinkedIn\n")
            for key, value in credentials['linkedin'].items():
                f.write(f"{key}={value}\n")

def main():
    """–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è"""
    print_header()
    
    print(f"{Fore.WHITE}–≠—Ç–æ—Ç –º–∞—Å—Ç–µ—Ä –ø–æ–º–æ–∂–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ API.{Style.RESET_ALL}")
    print(f"{Fore.WHITE}–ú–∏–Ω–∏–º—É–º: Reddit (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ){Style.RESET_ALL}")
    print(f"{Fore.WHITE}–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: Twitter –∏ LinkedIn –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞\n{Style.RESET_ALL}")
    
    # –°–æ–±–∏—Ä–∞–µ–º credentials
    credentials = {}
    
    # Reddit (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
    credentials['reddit'] = setup_reddit()
    
    # Twitter (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    credentials['twitter'] = setup_twitter()
    
    # LinkedIn (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    credentials['linkedin'] = setup_linkedin()
    
    # –°–æ–∑–¥–∞—ë–º .env —Ñ–∞–π–ª
    print_section("üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫")
    create_env_file(credentials)
    
    print(f"\n{Fore.GREEN}‚úì –§–∞–π–ª .env —Å–æ–∑–¥–∞–Ω!{Style.RESET_ALL}")
    
    # –ò—Ç–æ–≥
    platforms = ['Reddit']
    if credentials.get('twitter'):
        platforms.append('Twitter')
    if credentials.get('linkedin'):
        platforms.append('LinkedIn')
    
    print(f"\n{Fore.CYAN}{'='*60}{Style.RESET_ALL}")
    print(f"{Fore.GREEN}‚úì –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!{Style.RESET_ALL}")
    print(f"\n{Fore.CYAN}üìä –ü–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:{Style.RESET_ALL} {', '.join(platforms)}")
    print(f"\n{Fore.YELLOW}–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:{Style.RESET_ALL}")
    print(f"  {Fore.WHITE}python validator.py \"your SaaS idea\"{Style.RESET_ALL}")
    print(f"\n{Fore.CYAN}{'='*60}\n{Style.RESET_ALL}")

if __name__ == '__main__':
    try:
        main()
    except KeyboardInterrupt:
        print(f"\n\n{Fore.YELLOW}‚ö†Ô∏è  –ü—Ä–µ—Ä–≤–∞–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º{Style.RESET_ALL}")
        exit(0)
    except Exception as e:
        print(f"\n{Fore.RED}‚ùå –û—à–∏–±–∫–∞: {e}{Style.RESET_ALL}")
        exit(1)
